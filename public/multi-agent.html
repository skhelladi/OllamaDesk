<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Agent</title>
    <!-- Ajouter les styles pour les composants UI -->
    <link rel="stylesheet" href="format.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Ajout des dÃ©pendances React -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <!-- ...existing code... -->
    <!-- Include icons -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico">
    <script>
        fetch('icons.html')
            .then(response => response.text())
            .then(html => {
                document.body.insertAdjacentHTML('afterbegin', html);
            });
    </script>
</head>

<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <!-- Add home icon before "Recents" -->
                <a href="index.html" class="home-icon" title="Go to Home">
                    <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                        <use href="#home-icon"/>
                    </svg>
                </a>
                <h4>Recents</h4>
                <!-- Add toggle sidebar button -->
                <button type="button" id="toggle-sidebar-button" title="Toggle Sidebar">
                    <svg>
                        <use href="#hide-sidebar-icon" />
                    </svg>
                </button>
            </div>
            <div class="history-list" id="history-list">
                <!-- History items will be added here dynamically -->
            </div>
        </div>
        <div class="container">
            <div class="header-container">
                <div class="header-left">
                    <h3>Multi-Agent</h3>
                </div>
                <div class="header-right">
                    <!-- About Button -->
                    <button type="button" class="action-button about" id="about-button" title="About">
                        <svg>
                            <use href="#about-icon" />
                        </svg>
                    </button>
                    <!-- Add Theme Toggle Button -->
                    <button type="button" class="action-button theme-toggle" id="theme-toggle-button" title="Toggle Theme">
                        <svg>
                            <use href="#theme-toggle-icon" />
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Remplacer le chat-container par le conteneur React -->
            <div id="agent-ui-root" class="flex-grow overflow-auto p-4"></div>
        </div>
    </div>

    <!-- Add About Modal HTML -->
    <div class="stacked-widget-container" id="about-modal">
        <div class="retry-page">
            <h2>About This Application</h2>
            <p>This application serves as an AI assistant, allowing users to interact with various models to obtain
                solutions to their queries.
                This code is a graphical interface for <a href="https://ollama.com/" target="_blank">Ollama</a> using
                free LLMs.
                The backend server is responsible for model management and processing.</p>

            <p class="footer-text"><strong>Author:</strong> Sofiane KHELLADI &lt;sofiane@khelladi.page&gt;</p>
            <p class="footer-text"><strong>License:</strong> GPL</p>
            <br />
            <br />
            <p class="footer-text">&copy; 2024 Sofiane KHELLADI. All rights reserved.</p>
            <button type="button" class="pagination-button" id="close-about">Close</button>
        </div>
    </div>

    <!-- Load compiled script instead of using Babel in browser -->
    <script src="dist/agentUI.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM fully loaded and parsed');
            const rootElement = document.getElementById('agent-ui-root');
            if (rootElement && window.AgentUI) {
                ReactDOM.render(
                    React.createElement(window.AgentUI),
                    rootElement
                );
            } else {
                console.error('Root element or AgentUI not found');
            }
        });
    </script>

    <script src="./multiAgent.js"></script>
</body>

</html>
